<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <system.serviceModel>
    <services>
      <service name="YourServiceName" behaviorConfiguration="ServiceBehavior">
        <endpoint address="" binding="basicHttpBinding" contract="IYourServiceContract" />
      </service>
    </services>
    
    <behaviors>
      <serviceBehaviors>
        <behavior name="ServiceBehavior">
          <!-- Onemogućava prikaz default WCF stranice -->
          <serviceMetadata httpGetEnabled="false" httpsGetEnabled="false" />
          <serviceDebug httpHelpPageEnabled="false" httpsHelpPageEnabled="false" />
        </behavior>
      </serviceBehaviors>
    </behaviors>
    
    <!-- Alternativno, možete koristiti ovu konfiguraciju -->
    <serviceHostingEnvironment>
      <serviceActivations>
        <add relativeAddress="YourService.svc" service="YourServiceName" />
      </serviceActivations>
    </serviceHostingEnvironment>
  </system.serviceModel>
  
  <system.web>
    <compilation debug="false" targetFramework="4.8" />
    <httpRuntime targetFramework="4.8" />
    
    <!-- HTTP Modules potrebni za WCF -->
    <httpModules>
      <add name="ServiceModel" type="System.ServiceModel.Activation.HttpModule, System.ServiceModel.Activation, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
    </httpModules>
    
    <!-- Handlers za .NET Framework 4.x -->
    <httpHandlers>
      <add path="*.svc" verb="*" type="System.ServiceModel.Activation.HttpHandler" validate="false" />
    </httpHandlers>
  </system.web>
  
  <system.webServer>
    <!-- Preusmerava GET zahteve na .svc na praznu stranicu -->
    <rewrite>
      <rules>
        <rule name="Redirect SVC GET to Empty Page" stopProcessing="true">
          <match url=".*\.svc$" />
          <conditions>
            <add input="{REQUEST_METHOD}" pattern="GET" />
          </conditions>
          <action type="Rewrite" url="~/empty.html" />
        </rule>
      </rules>
    </rewrite>
    
    <!-- Handlers koji omogućavaju da web servis radi -->
    <handlers>
      <add name="svc-Integrated" path="*.svc" verb="*" type="System.ServiceModel.Activation.HttpHandler" resourceType="Unspecified" requireAccess="Script" preCondition="integratedMode" />
      <add name="svc-ISAPI-2.0" path="*.svc" verb="*" modules="IsapiModule" scriptProcessor="%windir%\Microsoft.NET\Framework\v2.0.50727\aspnet_isapi.dll" resourceType="Unspecified" requireAccess="Script" preCondition="classicMode,runtimeVersionv2.0,bitness32" />
      <add name="svc-ISAPI-2.0-64" path="*.svc" verb="*" modules="IsapiModule" scriptProcessor="%windir%\Microsoft.NET\Framework64\v2.0.50727\aspnet_isapi.dll" resourceType="Unspecified" requireAccess="Script" preCondition="classicMode,runtimeVersionv2.0,bitness64" />
      <add name="svc-ISAPI-4.0_32bit" path="*.svc" verb="*" modules="IsapiModule" scriptProcessor="%windir%\Microsoft.NET\Framework\v4.0.30319\aspnet_isapi.dll" resourceType="Unspecified" requireAccess="Script" preCondition="classicMode,runtimeVersionv4.0,bitness32" />
      <add name="svc-ISAPI-4.0_64bit" path="*.svc" verb="*" modules="IsapiModule" scriptProcessor="%windir%\Microsoft.NET\Framework64\v4.0.30319\aspnet_isapi.dll" resourceType="Unspecified" requireAccess="Script" preCondition="classicMode,runtimeVersionv4.0,bitness64" />
    </handlers>
    
    <!-- Modules potrebni za WCF -->
    <modules>
      <add name="ServiceModel" type="System.ServiceModel.Activation.HttpModule" preCondition="managedHandler" />
    </modules>
    
    <!-- Sakriva server informacije -->
    <httpProtocol>
      <customHeaders>
        <remove name="X-Powered-By" />
      </customHeaders>
    </httpProtocol>
  </system.webServer>
</configuration>
